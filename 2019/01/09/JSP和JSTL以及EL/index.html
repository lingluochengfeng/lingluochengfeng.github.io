<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="JSP、JSTL、EL," />





  <link rel="alternate" href="/atom.xml" title="树深时见鹿" type="application/atom+xml" />






<meta name="description" content="JSP技术&amp;emsp;&amp;emsp;JSP全名是Java Server Page，他是建立在Servlet规范之上的动态网页开发技术。在JSP文件中，HTML代码与Java代码共同存在，其中，HTML代码用来实现网页中静态内容的显示，Java代码用来实现网页中的动态内容的显示。为了与传统的HTML有所区别，JSP文件的扩展名为.jsp。&amp;emsp;&amp;emsp;JSP技术所开发的Web应用程序是基于J">
<meta name="keywords" content="JSP、JSTL、EL">
<meta property="og:type" content="article">
<meta property="og:title" content="JSP和JSTL以及EL">
<meta property="og:url" content="http://blog.letmefly.cc/2019/01/09/JSP和JSTL以及EL/index.html">
<meta property="og:site_name" content="树深时见鹿">
<meta property="og:description" content="JSP技术&amp;emsp;&amp;emsp;JSP全名是Java Server Page，他是建立在Servlet规范之上的动态网页开发技术。在JSP文件中，HTML代码与Java代码共同存在，其中，HTML代码用来实现网页中静态内容的显示，Java代码用来实现网页中的动态内容的显示。为了与传统的HTML有所区别，JSP文件的扩展名为.jsp。&amp;emsp;&amp;emsp;JSP技术所开发的Web应用程序是基于J">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://blog.letmefly.cc/2019/01/09/JSP和JSTL以及EL/JSTL标签库结构.jpg">
<meta property="og:image" content="http://blog.letmefly.cc/2019/01/09/JSP和JSTL以及EL/模式1.png">
<meta property="og:image" content="http://blog.letmefly.cc/2019/01/09/JSP和JSTL以及EL/模式2.png">
<meta property="og:image" content="http://blog.letmefly.cc/2019/01/09/JSP和JSTL以及EL/02-JSP模式.bmp">
<meta property="og:image" content="http://blog.letmefly.cc/2019/01/09/JSP和JSTL以及EL/MVC模式.png">
<meta property="og:image" content="http://blog.letmefly.cc/2019/01/09/JSP和JSTL以及EL/03-MVC开发流程.bmp">
<meta property="og:image" content="http://blog.letmefly.cc/2019/01/09/JSP和JSTL以及EL/MVC设计模式.jpg">
<meta property="og:image" content="http://blog.letmefly.cc/2019/01/09/JSP和JSTL以及EL/模式.jpg">
<meta property="og:image" content="http://blog.letmefly.cc/2019/01/09/JSP和JSTL以及EL/javaEE三层架构.png">
<meta property="og:image" content="http://blog.letmefly.cc/2019/01/09/JSP和JSTL以及EL/显示商品列表.png">
<meta property="og:updated_time" content="2019-01-21T12:21:19.639Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JSP和JSTL以及EL">
<meta name="twitter:description" content="JSP技术&amp;emsp;&amp;emsp;JSP全名是Java Server Page，他是建立在Servlet规范之上的动态网页开发技术。在JSP文件中，HTML代码与Java代码共同存在，其中，HTML代码用来实现网页中静态内容的显示，Java代码用来实现网页中的动态内容的显示。为了与传统的HTML有所区别，JSP文件的扩展名为.jsp。&amp;emsp;&amp;emsp;JSP技术所开发的Web应用程序是基于J">
<meta name="twitter:image" content="http://blog.letmefly.cc/2019/01/09/JSP和JSTL以及EL/JSTL标签库结构.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://blog.letmefly.cc/2019/01/09/JSP和JSTL以及EL/"/>





  <title>JSP和JSTL以及EL | 树深时见鹿</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    <a href="https://github.com/lingluochengfeng" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#70B7FD; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">树深时见鹿</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-categories" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.letmefly.cc/2019/01/09/JSP和JSTL以及EL/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="树深时见鹿">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">JSP和JSTL以及EL</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-01-09T20:09:00+08:00">
                2019-01-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaWeb/" itemprop="url" rel="index">
                    <span itemprop="name">JavaWeb</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="JSP技术"><a href="#JSP技术" class="headerlink" title="JSP技术"></a>JSP技术</h1><p>&emsp;&emsp;JSP全名是Java Server Page，他是建立在Servlet规范之上的动态网页开发技术。在JSP文件中，HTML代码与Java代码共同存在，其中，HTML代码用来实现网页中静态内容的显示，Java代码用来实现网页中的动态内容的显示。为了与传统的HTML有所区别，JSP文件的扩展名为.jsp。<br>&emsp;&emsp;JSP技术所开发的Web应用程序是基于Java语言的，他可以使用一种简洁而快速的方法从Java程序生成Web页面，其使用上具有以下特征：</p>
<ul>
<li>跨平台：由于JSP是基于Java语言的，他可以使用Java API，所以他也是跨平台的，可以应用于不同的系统中，如Windows、Linux等。当从一个平台移植到另一个平台时，JSP和JavaBean的代码并不需要重新编译，因为Java的字节码是与平台无关的，这也验证了Java语言”一次编译，到处运行“的特点。</li>
<li>业务代码分离：再使用JSP技术开发Web应用时，可以将界面的开发与应用程序的开发分离开。开发人员使用HTML来设计界面，使用JSP标签和脚本来动态生成页面上的内容。在服务器端，JSP引擎(或容器，如Tomcat)负责解析JSP标签和脚本程序，生成所请求的内容，并将执行结果以HTML页面的形式返回给浏览器。</li>
<li>组件重用：JSP中可以使用JavaBean编写业务组件，也就是使用一个JavaBean类封装业务处理代码或者作为一个数据存储模型，在JSP页面中，甚至在整个项目中，都可以重复使用这个JavaBean，同时，JavaBean也可以应用到其他Java应用程序中。</li>
<li>预编译：预编译指的是用户第一次通过浏览器访问JSP页面时，服务器将对JSP页面代码进行编译，并且仅执行一次编译。编译好的代码被保存，用户下一次访问时，会执行编译好的代码。这样不仅节约了服务器的CPU资源，还大大的提升了客户端的访问速度。</li>
</ul>
<p>JSP文件必须发布到Web容器中的某个Web应用中才能查看出效果。  </p>
<p>JSP的运行过程具体如下：<br>（1）客户端发送请求，请求访问JSp文件；<br>（2）JSP容器先将JSP文件转换成一个Java源文件（Java Servlet源程序），在转换过程中，如果发现JSP文件存在任何语法错误，则中断转换过程，并向服务器端和客户端返回出错信息。<br>（3）如果转换成功，则JSP容器将生成Java源文件编译成相应的字节码文件*.class。该class文件就是一个Servlet，Servlet容器会像处理其他Servlet一样来处理它。</p>
<h2 id="JSP基本语法"><a href="#JSP基本语法" class="headerlink" title="JSP基本语法"></a>JSP基本语法</h2><p>详见另一篇文章JSP技术，这里不再赘述。</p>
<h1 id="Java-Bean及内省"><a href="#Java-Bean及内省" class="headerlink" title="Java Bean及内省"></a>Java Bean及内省</h1><h2 id="什么是JavaBean"><a href="#什么是JavaBean" class="headerlink" title="什么是JavaBean"></a>什么是JavaBean</h2><ul>
<li>Java Bean是一个遵守特定写法的Java类，通常具有如下特点：<br>1：这个Java类必须具有一个无参的构造函数<br>2：属性私有化<br>3：私有化的属性必须通过public类型的方法暴露给其他程序，并且方法的命名也必须遵守一定的命名规范。</li>
<li>Java Bean在J2EE开发中，通常用于<font color="red">数据封装</font>，对于遵守以上写法的Java Bean组件，其他程序可以通过反射技术实例化Java Bean对象，并且通过反射那些遵守命名规范的方法，从而货值Java Bean的属性，进而调用其属性保存数据。</li>
</ul>
<h2 id="Java-Bean的属性"><a href="#Java-Bean的属性" class="headerlink" title="Java Bean的属性"></a>Java Bean的属性</h2><ul>
<li>Java Bean的属性可以是任意类型，并且一个Java Bean可以有多个属性。每个属性都需要具有相应的setter、getter方法，setter方法称为属性修改器，getter方法称为属性访问器。</li>
<li>属性修改器必须以小写的set前缀开始，后跟属性名，且属性名的第一个字母要改为大写，例如，name属性的修改器名称为setName，password属性的修改名称为setPassword。</li>
<li>属性访问器必须以小写的get前缀开始，后跟属性名，且属性名的第一个字母要改为大写，例如，name属性的访问器名称为getName，password属性的访问器名称为getPassword。</li>
<li><font>一个Java Bean的某个属性也可以只有set方法或get，这样的属性也常称为只读、只写属性。</font>

</li>
</ul>
<h2 id="在JSP中使用Java-Bean"><a href="#在JSP中使用Java-Bean" class="headerlink" title="在JSP中使用Java Bean"></a>在JSP中使用Java Bean</h2><ul>
<li>JSP技术提供了三个关于Java Bean组件的动作元素，即JSP标签，它们分别是：<br>1：\<a href="jsp:useBean" target="_blank" rel="noopener">jsp:useBean</a>标签：用于在JSP页面中查找或实例化一个Java Bean组件。<br>2：\<a href="jsp:setProperty" target="_blank" rel="noopener">jsp:setProperty</a>标签：用于在JSP页面中设置一个Java Bean组件的属性。<br>3：\<a href="jsp:getProperty" target="_blank" rel="noopener">jsp:getProperty</a>标签：用于在JSP页面中获取一个Java Bean组件的属性。</li>
</ul>
<h3 id="jsp-useBean标签"><a href="#jsp-useBean标签" class="headerlink" title="\jsp:useBean标签"></a>\<a href="jsp:useBean" target="_blank" rel="noopener">jsp:useBean</a>标签</h3><ul>
<li>\<a href="jsp:useBean" target="_blank" rel="noopener">jsp:useBean</a>标签用于在指定的域范围内查找指定名称的Java Bean对象：<ul>
<li>如果存在则直接返回该Java Bean对象的引用。</li>
<li>如果不存在则实例化一个新的Java Bean对象，并将它以指定的名称存储到指定的域范围中。</li>
</ul>
</li>
<li>常用语法<ul>
<li>\&lt;jsp:useBean id=”beanName” class=”cn.itcast.Test” scope=”page|request|session|application” /&gt;</li>
<li>id属性用于指定Java Bean实例对象的引用名称和其存储在域范围中的名称</li>
<li>class属性用于指定Java Bean的完整类名(即必须带有包名)</li>
<li>scope属性用于指定Java Bean实例对象所存储的域范围，其取值只能是page、request、session和application等四个值中的一个，其默认是page。</li>
</ul>
</li>
</ul>
<h4 id="jsp-useBean执行原理"><a href="#jsp-useBean执行原理" class="headerlink" title="\jsp:useBean执行原理"></a>\<a href="jsp:useBean" target="_blank" rel="noopener">jsp:useBean</a>执行原理</h4><ul>
<li>\&lt;jsp:useBean id=”currentDate” class=”java.util.Date”&gt;</li>
<li>翻译成Servlet源码</li>
</ul>
<h4 id="带标签体的-jsp-useBean标签"><a href="#带标签体的-jsp-useBean标签" class="headerlink" title="带标签体的\jsp:useBean标签"></a>带标签体的\<a href="jsp:useBean" target="_blank" rel="noopener">jsp:useBean</a>标签</h4><ul>
<li>语法：<br>  \<a href="jsp:useBean" target="_blank" rel="noopener">jsp:useBean</a><pre><code>Body
</code></pre>  \&lt;/jsp:useBean&gt;  </li>
<li>功能：<br>  Body部分的内容只在\<a href="jsp:useBean" target="_blank" rel="noopener">jsp:useBean</a>标签创建JavaBean的实例对象时才执行。</li>
</ul>
<h4 id="jsp-setProperty标签"><a href="#jsp-setProperty标签" class="headerlink" title="\jsp:setProperty标签"></a>\<a href="jsp:setProperty" target="_blank" rel="noopener">jsp:setProperty</a>标签</h4><ul>
<li>\<a href="jsp:setProperty" target="_blank" rel="noopener">jsp:setProperty</a>标签用于设置和访问Java Bean对象的属性</li>
<li>语法格式:\&lt;jsp:setProperty name=”beanName”{<br>  &emsp;&emsp;&emsp;property=”propertyName” value=”{string | &lt;%=expression%&gt;}” |  <pre><code>&amp;emsp;&amp;emsp;&amp;emsp;property=&quot;propertyName&quot; [param=&quot;parameterName&quot;] |  
&amp;emsp;&amp;emsp;&amp;emsp;property=&quot;*&quot;  
</code></pre>  }/&gt;  <ul>
<li>name属性用于指定Java Bean对象的名称。  </li>
<li>property属性用于指定Java Bean实例对象的属性名。  </li>
<li>value属性用于指定Java Bean对象的某个属性的值，value的值可以使字符串，也可以是表达式。为字符串时，该值会自动转换为Java Bean属性相应的类型，如果value的值是一个表达式，那么该表达式的计算结果必须与所要设置的Java Bean属性的类型一致。  </li>
<li>param属性用于将Java Bean实例对象的某个属性值设置为一个请求参数值，该属性值同样会自动转换成要设置的Java Bean属性的类型。</li>
</ul>
</li>
</ul>
<h4 id="jsp-getProperty标签"><a href="#jsp-getProperty标签" class="headerlink" title="\jsp:getProperty标签"></a>\<a href="jsp:getProperty" target="_blank" rel="noopener">jsp:getProperty</a>标签</h4><ul>
<li>\<a href="jsp:getProperty" target="_blank" rel="noopener">jsp:getProperty</a>标签用于读取Java Bean对象的属性，也就是调用Java Bean对象的getter方法，然后将读取的属性值转换为字符串后插入进输出的响应正文中。</li>
<li>语法：<ul>
<li>\&lt;jsp:getProperty name=”beanInstanceName” property=”PropertyName” /&gt;<ul>
<li>name属性值用于指定Java Bean实例对象的名称，其值应与\<a href="jsp:useBean" target="_blank" rel="noopener">jsp:useBean</a>标签的id属性值相同。</li>
<li>property属性用于指定Java Bean实例对象的属性名。</li>
</ul>
</li>
</ul>
</li>
<li>如果一个Java Bean实例对象的某个属性为null，那么，使用\<a href="jsp:getProperty" target="_blank" rel="noopener">jsp:getProperty</a>标签输出该属性的结果将是一个内容为“null”的字符串。</li>
</ul>
<h2 id="内省-Introspector-—-Java-Bean"><a href="#内省-Introspector-—-Java-Bean" class="headerlink" title="内省(Introspector) — Java Bean"></a>内省(Introspector) — Java Bean</h2><ul>
<li><p>访问Java Bean属性的两种方式：</p>
<ul>
<li>直接调用bean的setXXX或者getXXX方法；</li>
<li><p>通过内省技术访问(java.beans包提供了内省的API)</p>
<ul>
<li>内省技术是基于反射技术的。</li>
<li><p>通过Introspector类获得Bean对象的BeanInfo，然后通过BeanInfo来获取属性的描述器(PropertyDescriptor),通过这个属性描述器就可以获取某个属性对应的getter/setter方法，然后通过反射机制来调用这些方法。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public void populate(Map&lt;String, String[]&gt; map, User user)&#123;</span><br><span class="line">	BeanInfo info = Introspector.getBeanInfo(user.class);  </span><br><span class="line">	PropertyDescriptor[] pds = info.getPropertyDescriptors();  </span><br><span class="line">	for(PropertyDescriptor pd : pds)&#123;</span><br><span class="line">		String attrName = pd.getName();</span><br><span class="line">		if(map.containsKey(attrName))&#123;</span><br><span class="line">			Method m = pd.getWriteMethod();</span><br><span class="line">			m.invoke(user, map.get(attrName)[0]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="内省—-beanutils工具包"><a href="#内省—-beanutils工具包" class="headerlink" title="内省—-beanutils工具包"></a>内省—-beanutils工具包</h3><ul>
<li>Apache组织开发了一套用于操作Java Bean的API，这套API考虑到了很多实际开发中的应用场景，因此在实际开发中很多人都使用这套API操作Java Bean，以简化程序代码的编写。</li>
<li>Beanutils工具包的常用类：<ul>
<li>Beanutils<ul>
<li>populate(Object bean, Map properties)</li>
</ul>
</li>
<li>自定义转换器<ul>
<li>ConvertUtils.register(Converter convert, Class clazz)</li>
<li>传入日期类型的Date.class</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="EL表达式"><a href="#EL表达式" class="headerlink" title="EL表达式"></a>EL表达式</h1><h2 id="EL表达式简介"><a href="#EL表达式简介" class="headerlink" title="EL表达式简介"></a>EL表达式简介</h2><p>&emsp;&emsp;EL全名为Expression Language，是一种表达式语言，它对应&lt;%=…%&gt;。在JSP中，表达式会被输出，所以EL表达式也会被输出。EL表达式的目的是为了使JSP写起来更加简单，它提供了在JSP中简化表达式的方法，让JSP的代码更加简化。<br>EL表达式格式:<code>${表达式}</code>,例如,${1 + 2}<br>在使用EL表达式时，要求page指令的isELIgnored属性为false。这样在JSP编译成.java时，才不会忽略EL表达式。如果你希望某个EL表达式被JSP编辑器忽略，那么可以在EL表达式之前添加“\”,例如：\ ${1+2}.<br>EL主要作用：</p>
<ul>
<li>获取数据<ul>
<li>EL表达式主要用于替换JSP页面中的脚本表达式，以各种类型的web域中检索Java对象、获取数据。(某个web域中的对象，访问Java Bean的属性，访问list集合、访问map集合、访问数组)</li>
</ul>
</li>
<li>执行运算<ul>
<li>利用EL表达式可以在JSP页面中执行一些基本的关系运算、逻辑运算和算术运算，以及在JSP页面中完成一些简单的逻辑运算。${user == null}</li>
</ul>
</li>
<li>获取web开发常用对象<ul>
<li>EL表达式定义了一些隐式对象，利用这些隐式对象，web开发人员可以很轻松获得对web常用对象的引用，从而获得这些对象中的数据。</li>
</ul>
</li>
<li>调用Java方法<ul>
<li>EL表达式允许用户开发自定义EL函数，以在JSP页面中通过EL表达式调用Java类方法。</li>
</ul>
</li>
</ul>
<h2 id="EL注意事项"><a href="#EL注意事项" class="headerlink" title="EL注意事项"></a>EL注意事项</h2><ul>
<li>EL表达式是JSP2.0(JavaEE1.4)规范中的一门技术。因此，若想正确解析EL表达式，需使用支持Servlet2.4/JSP2.0技术的WEB服务器。</li>
<li>注意：有些Tomcat服务器如果不能使用EL表达式<ul>
<li>（1）升级成Tomcat6</li>
<li>（2）在JSP中加入\&lt;%@page isELlgnored=”false”%&gt;</li>
</ul>
</li>
</ul>
<h3 id="获取数据"><a href="#获取数据" class="headerlink" title="获取数据"></a>获取数据</h3><ul>
<li>使用EL表达式获取数据语法：”${标识符}”</li>
<li>EL表达式语句在执行时，会调用pageContext.findAttribute方法，用标识符为关键字，分别从page、request、session、application四个域中查找相应的对象，找到则返回相应对象，找不到则返回” “。（注意，不是null，而是空字符串）</li>
<li>示例：${user}</li>
<li>EL表达式也可以很轻松获取Java Bean的属性，或获取数组、Collection、Map类型集合的数据，例如：<ul>
<li>${user.address.city}</li>
<li>${user.list[0]}:访问<font color="blue">有序集合某个位置的元素</font></li>
<li>${map.key}:获得map集合中指定key的值</li>
</ul>
</li>
<li>[]和.的区别</li>
<li>结合JSTL的foreach标签，使用EL表达式也可以很轻松迭代各种类型的数组或集合，示例：<ul>
<li>迭代数组</li>
<li>迭代collection类型集合</li>
<li>迭代map类型集合  </li>
</ul>
</li>
</ul>
<h3 id="执行运算"><a href="#执行运算" class="headerlink" title="执行运算"></a>执行运算</h3><ul>
<li>语法：${运算表达式}，EL表达式支持如下运算符：  </li>
</ul>
<table>
<thead>
<tr>
<th>关系运算符</th>
<th>说明</th>
<th>范例</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>== 或 eq</td>
<td>等于</td>
<td>${5 == 5} 或 ${5 eq 5}</td>
<td>true</td>
</tr>
<tr>
<td>!= 或 ne</td>
<td>不等于</td>
<td>${5 != 5} 或 ${5 ne 5}</td>
<td>false</td>
</tr>
<tr>
<td>&lt; 或 lt</td>
<td>小于</td>
<td>${3 &lt; 5} 或 ${3 lt 5}</td>
<td>true</td>
</tr>
<tr>
<td>&gt; 或 gt</td>
<td>大于</td>
<td>${3 &gt; 5} 或 ${3 gt 5}</td>
<td>false</td>
</tr>
<tr>
<td>&lt;= 或 le</td>
<td>小于等于</td>
<td>${3 &lt;= 5} 或 ${3 le 5}</td>
<td>true</td>
</tr>
<tr>
<td>&gt;= 或 ge</td>
<td>大于等于</td>
<td>${3 &gt;= 5} 或 ${3 ge 5}</td>
<td>false</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>逻辑运算符</th>
<th>说明</th>
<th>范例</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>&amp;&amp; 或 and</td>
<td>交集</td>
<td>${A &amp;&amp; B} 或 ${A and B}</td>
<td>true/false</td>
</tr>
<tr>
<td>\</td>
<td>\</td>
<td>或 or</td>
<td>并集</td>
<td>${A \</td>
<td>\</td>
<td>B} 或 ${A or B}</td>
<td>true/false</td>
</tr>
<tr>
<td>! 或 not</td>
<td>非</td>
<td>${!A} 或 ${not A}</td>
<td>true/false</td>
</tr>
</tbody>
</table>
<ul>
<li>empty运算符：检查对象是否为null或”空“</li>
<li>二元表达式：${user != null ? user.name : “”}</li>
</ul>
<h3 id="EL表达式保留关键字"><a href="#EL表达式保留关键字" class="headerlink" title="EL表达式保留关键字"></a>EL表达式保留关键字</h3><table>
<thead>
<tr>
<th>—–</th>
<th>—–</th>
<th>—–</th>
<th>——</th>
</tr>
</thead>
<tbody>
<tr>
<td>And</td>
<td>eq</td>
<td>gt</td>
<td>true</td>
</tr>
<tr>
<td>Or</td>
<td>ne</td>
<td>le</td>
<td>false</td>
</tr>
<tr>
<td>No</td>
<td>lt</td>
<td>ge</td>
<td>null</td>
</tr>
<tr>
<td>instanceof</td>
<td>empty</td>
<td>div</td>
<td>mod</td>
</tr>
</tbody>
</table>
<h3 id="获得web开发常用对象"><a href="#获得web开发常用对象" class="headerlink" title="获得web开发常用对象"></a>获得web开发常用对象</h3><ul>
<li>EL表达式语言中定义了11个隐含对象，其中10个是Map，一个是PageContext。使用这些隐含对象可以很方便地获取web开发中的一些常见对象，并读取这些对象的数据。</li>
<li>语法：${隐式对象名称}：获得对象的引用</li>
</ul>
<table>
<thead>
<tr>
<th>隐含对象名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>pageContext</td>
<td>对应于JSP页面中的pageContext对象（注意：取的是pageContext对象）</td>
</tr>
<tr>
<td>pageScope</td>
<td>代表page域中用于保存属性的Map对象</td>
</tr>
<tr>
<td>requestScoppe</td>
<td>代表request域中用于保存属性的Map对象</td>
</tr>
<tr>
<td>sessionScope</td>
<td>代表session域中用于保存属性的Map对象</td>
</tr>
<tr>
<td>applicationScope</td>
<td>代表application域中用于保存属性的Map对象</td>
</tr>
<tr>
<td>param</td>
<td>表示一个保存了所有请求参数的Map对象</td>
</tr>
<tr>
<td>paramValues</td>
<td>表示一个保存了所有请求参数的Map对象，它对于某个请求参数，返回的是一个string[]</td>
</tr>
<tr>
<td>header</td>
<td>表示一个保存了所有http请求头字段的Map对象</td>
</tr>
<tr>
<td>headerValues</td>
<td>同上，返回string[]数组。注意：如果头里面有”-“，例如Accept-Encoding，则要headerValues[“Accept-Encodings”]</td>
</tr>
<tr>
<td>cookie</td>
<td>表示保存了所有cookie的Map对象</td>
</tr>
<tr>
<td>initParam</td>
<td>表示一个保存了所有web应用初始化参数的map对象</td>
</tr>
</tbody>
</table>
<ul>
<li>测试各个隐式对象</li>
<li>注意事项：<ul>
<li>测试headerValues时，如果头里面有”-“，例如Accept-Encoding，则要headerValues[“Accept-Encoding”]</li>
<li>测试cookie时，例${cookie.key}取的是cookie对象，如访问cookie的名称和值，须${cookie.key.name}或${cookie.key.value}</li>
</ul>
</li>
</ul>
<h3 id="EL操作对象的方式"><a href="#EL操作对象的方式" class="headerlink" title="EL操作对象的方式"></a>EL操作对象的方式</h3><ul>
<li>操作List和数组：${list[0]、${arr[0];}}</li>
<li>操作bean的属性：${person.name}、${person[‘name’]，对应person.name方法}</li>
<li>操作Map的值：${map.key}、${map[‘key’]},对应map.get(key)</li>
</ul>
<h3 id="使用EL调用Java方法"><a href="#使用EL调用Java方法" class="headerlink" title="使用EL调用Java方法"></a>使用EL调用Java方法</h3><ul>
<li>EL表达式语法允许开发人员开发自定义函数，以调用Java类的方法。<ul>
<li>示例：${prefix: method(params)}</li>
<li>在EL表达式中调用的只能是Java类的静态方法。</li>
<li>Java类的静态方法需要在TLD文件中描述，才可以被EL表达式调用</li>
<li>EL自定义函数用于扩展EL表达式的功能，可以让EL表达式完成普通Java程序代码所能完成的功能。</li>
</ul>
</li>
</ul>
<h3 id="EL-Function开发步骤"><a href="#EL-Function开发步骤" class="headerlink" title="EL Function开发步骤"></a>EL Function开发步骤</h3><ul>
<li>一般来说，EL自定义函数开发与应用包括以下三个步骤：<ul>
<li>编写一个Java类的静态方法</li>
<li>编写<font color="blue">标签库描述符(tld)文件</font>，在tld文件中描述自定义函数。</li>
<li>在JSP页面中导入和使用自定义函数。</li>
</ul>
</li>
<li>编写完标签库描述文件后，需要将其放置到\&lt;web应用&gt;\WEB-INF目录中或WEB-INF目录下的除了classes和lib目录之外的任意子目录中。</li>
<li>TLD文件中的\<uri>元素用指定该TLD文件的URI，在JSP文件中需要通过这个URI来引入该标签库描述文件。</uri></li>
<li>\<function>元素用于描述一个EL自定义函数，其中：<ul>
<li>\<name>子元素用于指定EL自定义函数的名称。</name></li>
<li>\<function-class>子元素用于指定<font color="blue">完整的Java类名</font></function-class></li>
<li>\<function-signature>子元素用于指定Java类中的静态方法的签名，方法签名必须指明方法的返回值类型以及各个参数的类型，各个参数之间用逗号分隔。</function-signature></li>
</ul>
</function></li>
</ul>
<h4 id="SUN公司：EL函数库"><a href="#SUN公司：EL函数库" class="headerlink" title="SUN公司：EL函数库"></a>SUN公司：EL函数库</h4><p>网页开发中常引入sun公司开发的jstl表达式。</p>
<ul>
<li>由于在JSP页面中显示数据时，经常需要对显示的字符串进行处理，SUN公司针对一些常见处理定义了一套EL函数库供开发者使用。</li>
<li>这些EL函数在JSTL开发包中进行描述，因此在JSP页面中使用SUN公司的EL函数库，需要导入JSTL开发包，并在页面中导入EL函数库，如下所示：<ul>
<li>在页面中使用JSTL定义的EL函数：</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;</span><br></pre></td></tr></table></figure>
<p>JSTL搭配EL主要使用循环、判断，用来获取、显示数据。<br>JSTL标准标签库包括核心标签库和SQL标签库，核心标签库常用的是if和forEach<br>EL即Expression Language（表达式语言）<br>EL的语法:${ EL exprission }<br>//$</p>
<h1 id="JSTL"><a href="#JSTL" class="headerlink" title="JSTL"></a>JSTL</h1><h2 id="什么是JSTL"><a href="#什么是JSTL" class="headerlink" title="什么是JSTL"></a>什么是JSTL</h2><p>&emsp;&emsp;JSTL是apache对EL表达式的扩展（就是说JSTL依赖EL），JSTL是标签语言。<br><img src="/2019/01/09/JSP和JSTL以及EL/JSTL标签库结构.jpg" alt="JSTL标签库结构"></p>
<h3 id="JSTL的作用"><a href="#JSTL的作用" class="headerlink" title="JSTL的作用"></a>JSTL的作用</h3><ul>
<li>提供给Java Web开发人员一个标准通用的标签函数库</li>
<li>和EL来取代传统直接在页面上嵌入Java程序（Scripting）的做法，以提高程序可读性、维护性和方便性。</li>
</ul>
<h3 id="倒入标签库"><a href="#倒入标签库" class="headerlink" title="倒入标签库"></a>倒入标签库</h3><p>&emsp;&emsp;导入标签库需要使用taglib指令！<br>&emsp;&emsp;\&lt;% taglib prefix=”c” uri=”<a href="http://java.sun.com/jstl/core&quot;%&gt;" target="_blank" rel="noopener">http://java.sun.com/jstl/core&quot;%&gt;</a></p>
<h2 id="JSTL核心库"><a href="#JSTL核心库" class="headerlink" title="JSTL核心库"></a>JSTL核心库</h2><p>1.out和set（重点）<br>out。  </p>
<table>
<thead>
<tr>
<th>标签</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>\&lt;c:out value=”aaa” /&gt;</td>
<td>输出aaa字符串常量</td>
</tr>
<tr>
<td>\&lt;c:out value=”${aa}” /&gt;</td>
<td>与${aaa}相同</td>
</tr>
<tr>
<td>\&lt;c:out value=”${aa}” default=”xxx” /&gt;</td>
<td>当${aaa}不存在时，输出xxx字符串</td>
</tr>
<tr>
<td>\&lt;%requets.setAttribute(“a”,”\<script>alert(‘hello’);\</script>“);%/&gt; &lt;c:out value=”${a}” default=”xxx” escapeXml=”false”</td>
<td>当escapeXml为false，不会转换”&lt;”,”&gt;”。这可能会受到JavaScript攻击。</td>
</tr>
<tr>
<td>\&lt;c:set var=”a” value=”hello” /&gt;</td>
<td>在pageContext中添加name为a，value为hello的数据</td>
</tr>
<tr>
<td>\&lt;c:set var=”a” value=”hello” scope=”session”/&gt;</td>
<td>在session中添加name为a，value为hello的数据</td>
</tr>
<tr>
<td>\&lt;jsp:useBean id=”user” class=”cn.usst.domain.User” /&gt; \&lt;c:set target=”${user}” property=”username” value=”qdmmy6” /&gt; \&lt;c:out value=”${user}” /&gt;</td>
<td>给user的username属性赋值qdmmy6</td>
</tr>
</tbody>
</table>
<p>set：set标签的var、value、scope是一组，而target、property、value是一组。</p>
<p>2.remove</p>
<table>
<thead>
<tr>
<th>标签</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>\&lt;% pageContext.setAttribute(“a”,”pageContext”);pageContext.setAttribute(“a”,”request”);pageContext.setAttribute(“a”,”session”);pageContext.setAttribute(“a”,”application”);%&gt;\&lt;c:remove value=”a” /&gt; \&lt;c:out value=”${a}” default=”none”/&gt;</td>
<td>删除所有域中name为a的数据</td>
</tr>
<tr>
<td>\&lt;c:remove var=”a” scope=”page” /&gt;</td>
<td>删除pageContext域中name为a的数据</td>
</tr>
</tbody>
</table>
<p>3.url<br>url标签会在需要URL重写时添加sessionid</p>
<table>
<thead>
<tr>
<th>标签</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>\&lt;c:url value=”/“ /&gt;</td>
<td>输出上下文路径：/day08/</td>
</tr>
<tr>
<td>\&lt;c:url var=”$a” /&gt; scope=”request”</td>
<td>把本该输出的结果赋给变量a。范围为request</td>
</tr>
</tbody>
</table>
<ol start="4">
<li>if和choose（重点）<br>&emsp;&emsp;if标签的test属性必须是一个boolean类型的值，如果test的值为true，那么执行if标签的内容，否则不执行。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:set var=&quot;a&quot; value=&quot;hello&quot; /&gt;</span><br><span class="line">&lt;c:if test=&quot;$&#123;not empty a&#125;&quot; value=&quot;hello&quot; /&gt;</span><br><span class="line">	&lt;c:out value=&quot;$&#123;a &#125;&quot;&gt;</span><br><span class="line">&lt;/c:if&gt;</span><br></pre></td></tr></table></figure>
<p>choose标签对应Java中的if/else if/else结构<br>when标签的test为true时，会执行这个when的内容。<br>当所有when标签的test都为false时，才会执行otherwise标签的内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:set var=&quot;score&quot; value=&quot;param.score&quot; /&gt;</span><br><span class="line">&lt;c:choose&gt;</span><br><span class="line">	&lt;c:when test=&quot;$&#123;score &gt; 100&#125; || score &lt; 0&quot;&gt;错误的分数：$&#123;score &#125;&lt;/c:when&gt;</span><br><span class="line">	&lt;c:when test=&quot;$&#123;score &gt;= 90&#125;&quot;&gt;A级&lt;/c:when&gt;</span><br><span class="line">	&lt;c:when test=&quot;$&#123;score &gt;= 80&#125;&quot;&gt;B级&lt;/c:when&gt;</span><br><span class="line">	&lt;c:when test=&quot;$&#123;score &gt;= 70&#125;&quot;&gt;C级&lt;/c:when&gt;</span><br><span class="line">	&lt;c:when test=&quot;$&#123;score &gt;= 60&#125;&quot;&gt;D级&lt;/c:when&gt;</span><br><span class="line">	&lt;c:oterwise&gt;E级&lt;/c:when&gt;</span><br><span class="line">&lt;/c:choose&gt;</span><br></pre></td></tr></table></figure>
<ol start="5">
<li>forEach（重点）<br>&emsp;&emsp;forEach是循环标签，下面例子中设置域变量为i，初始值为1，结束值为100.即i的值从1遍历到100，包含100.</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:set var=&quot;sum&quot; value=&quot;0&quot; /&gt;</span><br><span class="line">&lt;c:forEach var=&quot;i&quot; begin=&quot;1&quot; end=&quot;10&quot;&gt;</span><br><span class="line">	&lt;c:set var=&quot;sum&quot; value=&quot;$&#123;sum + i &#125;&quot;&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br><span class="line">&lt;c:out value=&quot;sum=$&#123;sum &#125;&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;c:set var=&quot;sum&quot; value=&quot;0&quot; /&gt;</span><br><span class="line">&lt;c:forEach var=&quot;i&quot; begin=&quot;1&quot; end=&quot;10&quot; step=&quot;2&quot;&gt;</span><br><span class="line">	&lt;c:set var=&quot;sum&quot; value=&quot;$&#123;sum + i &#125;&quot;&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br><span class="line">&lt;c:out value=&quot;sum=$&#123;sum &#125;&quot;&gt;</span><br></pre></td></tr></table></figure>
<p>还可以使用forEach来遍历数据或集合，遍历数组：  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">String[] names = &#123;&quot;zhangSan&quot;,&quot;liSi&quot;,&quot;wangWu&quot;,&quot;zhaoLiu&quot;&#125;</span><br><span class="line">pageContext.setAttribute(&quot;ns&quot;, names);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;c:forEach var=&quot;item&quot; items=&quot;$&#123;ns&#125;&quot;&gt;</span><br><span class="line">	&lt;c:out value=&quot;name:$&#123;item &#125;&quot;&gt;&lt;/br&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br></pre></td></tr></table></figure>
<p>遍历list  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">	List&lt;String&gt; names = new ArrayList&lt;String&gt;();</span><br><span class="line">	names.add(&quot;zhangsan&quot;);</span><br><span class="line">	names.add(&quot;lisi&quot;);</span><br><span class="line">	names.add(&quot;zhaoLiu&quot;);</span><br><span class="line">	pageContext.setAttribute(&quot;ns&quot;, names);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;c:forEach var=&quot;item&quot; items=&quot;$&#123;ns&#125;&quot;&gt;</span><br><span class="line">	&lt;c:out value=&quot;name:$&#123;item &#125;&quot;&gt;&lt;/br&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br></pre></td></tr></table></figure>
<p>遍历Map  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">	Map&lt;String,String&gt; stu = </span><br><span class="line">		new LinkedHashMap&lt;String, String&gt;();</span><br><span class="line">	stu.put(&quot;number&quot;,&quot;N_1001&quot;);</span><br><span class="line">	stu.put(&quot;name&quot;,&quot;zhangSan&quot;);</span><br><span class="line">	stu.put(&quot;age&quot;,&quot;23&quot;);</span><br><span class="line">	pageContext.setAttribute(&quot;stu&quot;, stu);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;c:forEach var=&quot;item&quot; items=&quot;$&#123;stu&#125;&quot;&gt;</span><br><span class="line">	&lt;c:out value=&quot;$&#123;item.key&#125;:$&#123;item.value&#125;&quot;&gt;&lt;/br&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;forEach标签还有一个属性：varStatus，这个属性用来指定接收”循环状态“的变量名，例如：\<foreach varstatus="vs" ...="">，这时就可以使用vs这个变量来获取循环的状态了。</foreach></p>
<ul>
<li>count：int类型，当前已遍历元素的个数</li>
<li>index:int类型，当前元素的下标</li>
<li>first：boolean类型，是否为第一个元素</li>
<li>last：boolean类型，是否为最后一个元素</li>
<li>current：Object类型，表示当前项目</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:forEach var=&quot;item&quot; items=$&#123;ns &#125; varStatus=&quot;vs&quot;&gt;</span><br><span class="line">	&lt;c:if test=$&#123;vs.first &#125;&gt;第一行&lt;/c:if&gt;</span><br><span class="line">	&lt;c:if test=$&#123;vs.last &#125;&gt;最后一行&lt;/c:if&gt;</span><br><span class="line">	&lt;c:out value=&quot;第$&#123;vs.count行：&quot; &#125; /&gt;</span><br><span class="line">	&lt;c:out value=&quot;[$&#123;vs.index&#125;]: &quot; /&gt;</span><br><span class="line">	&lt;c:out value=&quot;name: $&#123;vs.current&#125;&quot; /&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br></pre></td></tr></table></figure>
<h1 id="JSP开发模式"><a href="#JSP开发模式" class="headerlink" title="JSP开发模式"></a>JSP开发模式</h1><ul>
<li>Sun公司推出JSP技术后，同时也推荐了两种web应用程序的开发模式，一种是JSP+JavaBean，另一种是Servlet+JSP+JavaBean模式。</li>
<li>JSP+JavaBean模式适合开发业务逻辑不太复杂的web应用，在这种模式下，servlet负责处理用户请求，JavaBean负责封装数据。Servlet+JSP+JavaBean模式下，程序各个模块之间层次清晰，web开发推荐采用这种模式。</li>
</ul>
<h2 id="Model1-设计模型"><a href="#Model1-设计模型" class="headerlink" title="Model1 设计模型"></a>Model1 设计模型</h2><p>JSP  完成逻辑上的处理和显示<br><img src="/2019/01/09/JSP和JSTL以及EL/模式1.png" alt="模式1"><br>JSP Model 1的特点：<br>（a）JSP页面负责响应用户的请求并将处理结果返回用户；<br>（b）JSP既要负责业务流程控制，又要负责提供表示层数据；<br>（c）供表示层数据，同时充当视图和控制器<br>（d）适合简单的应用的需求</p>
<p>Model1使得Java代码与HTML代码强耦在一起，导致视图与逻辑无法分离，使程序的可读性大大降低，使代码调试以及后期维护都带来了很大的困难。</p>
<h2 id="Model2-设计模型"><a href="#Model2-设计模型" class="headerlink" title="Model2 设计模型"></a>Model2 设计模型</h2><ul>
<li>Servlet：控制层，负责找到合适的模型对象来处理业务逻辑，转发到合适的视图。（控制显示哪个JSP页面给用户，调用哪个JavaBean）</li>
<li>JSP：视图层，用来与用户打交道。负责接收用来的数据，以及显示数据给用户（响应用户请求，把结果数据展现给用户）</li>
<li>JavaBean：模型层，完成具体的业务工作（对数据库的数据的存取，复杂的业务功能和逻辑处理）<br><img src="/2019/01/09/JSP和JSTL以及EL/模式2.png" alt="模式2"></li>
</ul>
<p>Model1和Model2的文字描述图<br><img src="/2019/01/09/JSP和JSTL以及EL/02-JSP模式.bmp" alt="JSP模式"></p>
<h2 id="MVC设计模式"><a href="#MVC设计模式" class="headerlink" title="MVC设计模式"></a>MVC设计模式</h2><p>&emsp;&emsp;MVC是软件工程中一种软件架构模式，是一种分离业务逻辑与显示界面的设计方法。注意，MVC不是Java所特有的，几乎现在所有B/S结构的软件都采用了MVC设计模式。</p>
<ul>
<li>MVC是Model-View-Controller的简称<ul>
<li>M：Model—-模型：JavaBean：封装数据，编写程序应用的功能（实现算法、数据库管理等）</li>
<li>V：View—–视图：（JSP）界面设计人员进行图形界面设计，单纯进行页面的展示</li>
<li>C：Controller—-控制器：Servlet：获取数据–对数据进行封装—传递数据—指派显示的jsp页面，对请求进行处理，负责请求转发    </li>
</ul>
</li>
<li>MVC是一种设计模式</li>
<li>把应用程序分成三个核心模块<ul>
<li>模型、视图、控制器<br><img src="/2019/01/09/JSP和JSTL以及EL/MVC模式.png" alt="MVC模式"><br><img src="/2019/01/09/JSP和JSTL以及EL/03-MVC开发流程.bmp" alt="MVC开发流程"><br><img src="/2019/01/09/JSP和JSTL以及EL/MVC设计模式.jpg" alt="MVC开发流程"></li>
</ul>
</li>
</ul>
<h3 id="软件的三层架构"><a href="#软件的三层架构" class="headerlink" title="软件的三层架构"></a>软件的三层架构</h3><p>表述层（web）、业务逻辑层（Business Logic）、数据层（Data）。<br>web层：JSP和Servlet，都是与web相关的东西。与客户端交互<br>业务层：通常以Service为后缀，对应一个业务。复杂业务处理，专门用于处理业务数据<br>数据层：通常以Dao为后缀，用来访问数据层。与数据库进行交互<br><img src="/2019/01/09/JSP和JSTL以及EL/模式.jpg" alt="模式"></p>
<h4 id="ORM映射"><a href="#ORM映射" class="headerlink" title="ORM映射"></a>ORM映射</h4><p>&emsp;&emsp;当Dao从数据库中读取到数据后，需要把数据转换成Java对象。所以需要ORM工具，可以把关系型数据库中的数据转换成Java对象。</p>
<h4 id="业务实体（实体域）"><a href="#业务实体（实体域）" class="headerlink" title="业务实体（实体域）"></a>业务实体（实体域）</h4><p>&emsp;&emsp;在Dao中，数据已经是Java对象了，这种Java对象我们称为业务实体类。它也是JavaBean，而且是最简单的JavaBean，例如User类、Book类等等。业务实体在Model中各个层之间传递。</p>
<h4 id="页面实体（FormBean）"><a href="#页面实体（FormBean）" class="headerlink" title="页面实体（FormBean）"></a>页面实体（FormBean）</h4><p>&emsp;&emsp;Service从Dao那里获取到的是实体域对象，然后Service会把实体域对象转换成页面实体对象，传递给Servlet。页面的实体是对应页面中的某个表单数据，或者对应页面中的某个表格。有时页面实业与业务实体是完全相同的，所以有时候偷懒，直接把业务实体传递到Web层。</p>
<h4 id="IOC解耦"><a href="#IOC解耦" class="headerlink" title="IOC解耦"></a>IOC解耦</h4><p>&emsp;&emsp;上层依赖底层，例如Servlet中需要创建Service对象，而Service中还要创建Dao对象。这就是强化了耦合。为了解决这一问题，需要使用IOC工具来解耦合。IOC首先要求我们面向接口编程，然后才能解耦。IOC使用通用工厂在各层之间解耦，可以在配置文件中通过配置为各个组件的依赖注入依赖。</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><h2 id="EL表达式-1"><a href="#EL表达式-1" class="headerlink" title="EL表达式"></a>EL表达式</h2><p>从域中取出数据${域中存储的数据的name}<br><code>pageContext.request.contextPath</code></p>
<h2 id="JSTL标签（核心库）"><a href="#JSTL标签（核心库）" class="headerlink" title="JSTL标签（核心库）"></a>JSTL标签（核心库）</h2><p>&lt;%@ taglib uri=”” prefix=”c” %&gt;<br>\&lt;c:if test=” “&gt;<br>\&lt;c:forEach items=”数组或集合” var=”数组或集合中的每一个元素”&gt;</p>
<h2 id="JavaEE三层架构-MVC"><a href="#JavaEE三层架构-MVC" class="headerlink" title="JavaEE三层架构+MVC"></a>JavaEE三层架构+MVC</h2><ul>
<li>web层：收集页面数据，封装数据，传递数据，指定响应jsp页面</li>
<li>service层：逻辑业务代码的编写</li>
<li>dao层：数据库的访问代码的编写<br><img src="/2019/01/09/JSP和JSTL以及EL/javaEE三层架构.png" alt="javaEE三层架构"></li>
</ul>
<h3 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h3><p><img src="/2019/01/09/JSP和JSTL以及EL/显示商品列表.png" alt="javaEE三层架构"></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JSP、JSTL、EL/" rel="tag"># JSP、JSTL、EL</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/01/05/mysql连接错误/" rel="next" title="mysql连接错误">
                <i class="fa fa-chevron-left"></i> mysql连接错误
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/01/23/监听器Listener/" rel="prev" title="监听器Listener">
                监听器Listener <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description">如果你因错过太阳而流泪，你也将错过群星了</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">35</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">22</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#JSP技术"><span class="nav-number">1.</span> <span class="nav-text">JSP技术</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#JSP基本语法"><span class="nav-number">1.1.</span> <span class="nav-text">JSP基本语法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Java-Bean及内省"><span class="nav-number">2.</span> <span class="nav-text">Java Bean及内省</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#什么是JavaBean"><span class="nav-number">2.1.</span> <span class="nav-text">什么是JavaBean</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-Bean的属性"><span class="nav-number">2.2.</span> <span class="nav-text">Java Bean的属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在JSP中使用Java-Bean"><span class="nav-number">2.3.</span> <span class="nav-text">在JSP中使用Java Bean</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#jsp-useBean标签"><span class="nav-number">2.3.1.</span> <span class="nav-text">\jsp:useBean标签</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#jsp-useBean执行原理"><span class="nav-number">2.3.1.1.</span> <span class="nav-text">\jsp:useBean执行原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#带标签体的-jsp-useBean标签"><span class="nav-number">2.3.1.2.</span> <span class="nav-text">带标签体的\jsp:useBean标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#jsp-setProperty标签"><span class="nav-number">2.3.1.3.</span> <span class="nav-text">\jsp:setProperty标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#jsp-getProperty标签"><span class="nav-number">2.3.1.4.</span> <span class="nav-text">\jsp:getProperty标签</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#内省-Introspector-—-Java-Bean"><span class="nav-number">2.4.</span> <span class="nav-text">内省(Introspector) — Java Bean</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#内省—-beanutils工具包"><span class="nav-number">2.4.1.</span> <span class="nav-text">内省—-beanutils工具包</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#EL表达式"><span class="nav-number">3.</span> <span class="nav-text">EL表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#EL表达式简介"><span class="nav-number">3.1.</span> <span class="nav-text">EL表达式简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#EL注意事项"><span class="nav-number">3.2.</span> <span class="nav-text">EL注意事项</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#获取数据"><span class="nav-number">3.2.1.</span> <span class="nav-text">获取数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#执行运算"><span class="nav-number">3.2.2.</span> <span class="nav-text">执行运算</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#EL表达式保留关键字"><span class="nav-number">3.2.3.</span> <span class="nav-text">EL表达式保留关键字</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#获得web开发常用对象"><span class="nav-number">3.2.4.</span> <span class="nav-text">获得web开发常用对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#EL操作对象的方式"><span class="nav-number">3.2.5.</span> <span class="nav-text">EL操作对象的方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用EL调用Java方法"><span class="nav-number">3.2.6.</span> <span class="nav-text">使用EL调用Java方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#EL-Function开发步骤"><span class="nav-number">3.2.7.</span> <span class="nav-text">EL Function开发步骤</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#SUN公司：EL函数库"><span class="nav-number">3.2.7.1.</span> <span class="nav-text">SUN公司：EL函数库</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JSTL"><span class="nav-number">4.</span> <span class="nav-text">JSTL</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#什么是JSTL"><span class="nav-number">4.1.</span> <span class="nav-text">什么是JSTL</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#JSTL的作用"><span class="nav-number">4.1.1.</span> <span class="nav-text">JSTL的作用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#倒入标签库"><span class="nav-number">4.1.2.</span> <span class="nav-text">倒入标签库</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JSTL核心库"><span class="nav-number">4.2.</span> <span class="nav-text">JSTL核心库</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JSP开发模式"><span class="nav-number">5.</span> <span class="nav-text">JSP开发模式</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Model1-设计模型"><span class="nav-number">5.1.</span> <span class="nav-text">Model1 设计模型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Model2-设计模型"><span class="nav-number">5.2.</span> <span class="nav-text">Model2 设计模型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MVC设计模式"><span class="nav-number">5.3.</span> <span class="nav-text">MVC设计模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#软件的三层架构"><span class="nav-number">5.3.1.</span> <span class="nav-text">软件的三层架构</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ORM映射"><span class="nav-number">5.3.1.1.</span> <span class="nav-text">ORM映射</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#业务实体（实体域）"><span class="nav-number">5.3.1.2.</span> <span class="nav-text">业务实体（实体域）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#页面实体（FormBean）"><span class="nav-number">5.3.1.3.</span> <span class="nav-text">页面实体（FormBean）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IOC解耦"><span class="nav-number">5.3.1.4.</span> <span class="nav-text">IOC解耦</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#总结"><span class="nav-number">6.</span> <span class="nav-text">总结</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#EL表达式-1"><span class="nav-number">6.1.</span> <span class="nav-text">EL表达式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JSTL标签（核心库）"><span class="nav-number">6.2.</span> <span class="nav-text">JSTL标签（核心库）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JavaEE三层架构-MVC"><span class="nav-number">6.3.</span> <span class="nav-text">JavaEE三层架构+MVC</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Demo"><span class="nav-number">6.3.1.</span> <span class="nav-text">Demo</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">树深时见鹿</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  


</body>
</html>
